# Setting Up Environment

To begin you must create a free tier AWS Account: https://portal.aws.amazon.com/billing/signup#/start/email 
--------------------------------------------------------IAM--------------------------------------------------------
Next navigate to the IAM Management Console: https://us-east-1.console.aws.amazon.com/iamv2/home?region=us-east-1#/home
Create a new User under "Access Management"/"Users"
Select "Add User", Add the username and click "Next"
Add user to a group and click "Create group"
Name the group and mark the "AdministratorAccess" policy name and click "Create user group"
--------------------------------------------------AWS Access Keys--------------------------------------------------
Select the user created and select the "Security Credentials"
Select the "Create access key" under the Access Key section
Select the "Command Line Interface" and check the I understand propmt and continue
Name the "Description tag value" and click "Create access key"
Copy both the Access Key and Secret Access Key
-----------------------------------------------------Kali Setup-----------------------------------------------------
Download the Terraform Binary: https://releases.hashicorp.com/terraform/1.5.0/terraform_1.5.0_linux_amd64.zip
Unzip and move to the /usr/local/bin: $ sudo mv terraform /usr/bin/local
Install AWS CLI: $ curl "https://awscli.amazonaws.com/awscli-exe-linux-x86_64.zip" -o "awscliv2.zip"
                 $ unzip awscliv2.zip
                 $ sudo ./aws/install
Add the Access Keys: $ aws configure --profile cloudgoat
                      AWS Access Key ID [None]: XXXXXXXXXXXXXXXXXXX (Access Key Copied from Earlier)
                      AWS Secret Access Key [None]: XXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXXX (Secret Access Key Copied from Earlier)
                      Default region name [None]: 
                      Default output format [None]:
Install CloudGOAT: $ git clone https://github.com/RhinoSecurityLabs/cloudgoat.git
                   $ cd cloudgoat
                   $ pip3 install -r ./requirements.txt
                   $ chmod +x cloudgoat.py
Configure the profile: $ ./cloudgoat.py config profile
Whitelist your IP address: $ ./cloudgoat.py config whitelist --auto
If this fails you can configure it by manually inputting your Public IP Address. Use the following command to output your public IP Address: $ curl ifconfig.me
Than use the following: $ ./cloudgoat.py config whitelist
It'll than prompt you to input your Public IP Address.
-----------------------------------------------------Test Setup-----------------------------------------------------
Confirm CloudGoat is functioning properly by using the "create" parameter:
                   $ ./cloudgoat.py create lambda_privesc

This will launch the specified scenario. If you receive any errors you may have to edit certain items to get it functioning properly.
